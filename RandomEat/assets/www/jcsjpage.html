<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta http-equiv="Access-Control-Allow-Origin" content="*">
<!-- <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />-->
		<link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css">
        
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.3.2.min.js"></script>
<script type="application/javascript">
  var randomEatdb = window.openDatabase("RandomEatdb", "1.0","数据库描述",20000);
/*--------------------------------------------------------database--------------------------------------------------------------*/
//生成GUID
function newGuid()
{
    var guid = "";
    for (var i = 1; i <= 32; i++){
      var n = Math.floor(Math.random()*16.0).toString(16);
      guid +=   n;
      if((i==8)||(i==12)||(i==16)||(i==20))
        guid += "-";
    }
    return guid.replace(/-/g, "");
}

//点击提交
function submitform(){
	var toeatname = $("#toeatname").val().replace(/-/g, "");
	if(toeatname =='' || toeatname==null){
		alert("要去哪名称不能为空！");
		return;
}
randomEatdb.transaction(function(tx) {
	var guid = newGuid();
  	tx.executeSql("INSERT INTO RandomEatInfo (guid,toeatname) values(?,?)", [guid,toeatname], 
		function(tx,result){ alert('操作成功');$("#toeatname").val('');}, function(tx, error){ alert('操作失败:' + error.message)}
	
	);
  });
  	

}

//跳转
function returnPages(url){
	window.location=url;	
}
</script>   		
		<title>设置</title>

<body>

<div data-role="page" id="pageone">
  <div data-role="header" data-position="fixed">
      <a href="#" data-role="button" data-icon="home" data-iconpos="notext" class="ui-btn-right" rel="external" onclick="returnPages('index.html')"></a>
      <h1>添加</h1>
  </div>
  

  <div data-role="content">
 <div class="ui-grid-b">
 
     <div class="ui-block-a" style="text-align:right; width:22%;margin-top:15px"><span>要去哪:</span></div>
     <div class="ui-block-b" style="width:75%"><input type="text" name="toeatname" id="toeatname"></div>
     
     <div class="ui-block-a" style="text-align:right; width:22%;margin-top:15px"></div>
     <div class="ui-block-b" style="width:75%"><input type="button" data-inline="true" value="提交" onclick="submitform()"></div>
</div>     
      
      

  </div>
  
  
<center>
  <div data-role="footer" data-position="fixed" >
    <a href="#pageone" data-role="button" data-icon="plus">添加</a>
    <a href="#pagetwo" data-role="button" data-icon="grid">列表</a>
  </div>
</center>
  
</div>





















<div data-role="page" id="pagetwo">
  <div data-role="header" data-position="fixed">
      <a href="#" data-role="button" data-icon="home" data-iconpos="notext" class="ui-btn-right" rel="external" onclick="returnPages('index.html')"></a>
      <h1>列表</h1>
  </div>
  

<div data-role="content">
     <fieldset data-role="controlgroup"> 
    <ul data-role="listview">
     
          <li data-icon="false">
                  <label for="red">第一</label>
                  <input type="checkbox" name="favcolor" id="red" value="red">
          </li>
          
           <li data-icon="false">
                  <label for="red">第二</label>
                  <input type="checkbox" name="favcolor" id="red" value="red">
          </li>
          
           <li data-icon="false">
                  <label for="red">第三</label>
                  <input type="checkbox" name="favcolor" id="red" value="red">
          </li>

    </ul>
      </fieldset>
</div><!--content-->
  
  
<center>
  <div data-role="footer" data-position="fixed" >
    <a href="#pageone" data-role="button" data-icon="plus">添加</a>
    <a href="#pagetwo" data-role="button" data-icon="grid">列表</a>
  </div>
</center>
  
</div>
</body>
</html>
